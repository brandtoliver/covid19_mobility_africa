{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Infobox.svelte"
  ],
  "sourcesContent": [
    "<!-- .. -->\n<!-- JS -->\n<!-- .. -->\n\n<script>\n\timport Infobox from './Infobox.svelte';\n\timport { idxToFilename, idxToDate, getTooltip, cmap } from './utils.js';\n\timport { onMount } from 'svelte';\n\timport { json, select, format, min, max, range } from 'd3';\n\timport { sliderBottom } from 'd3-simple-slider';\n\n\tlet data;\n\tlet promise;\n\tlet container\n\tlet deckgl;\n\tlet idxDay = 0;\n\tlet idxTime = 1;\n\tlet colorschemeidx = 0;\n\tlet colorscheme = ['red', 'white', 'green'];\n\n\tonMount(async () => {\n\t\t// SLIDER\n\t\tlet N;\n\t\tawait json('./data/meta.json').then(data => {\n\t\t\tN = data['n_files'];\n\t\t})\n\n\t\tvar extent = range(Math.floor(N/3));\n\t\tlet sliderStep = sliderBottom()\n\t\t\t.min(min(extent))\n\t\t\t.max(max(extent))\n\t\t\t.width(window.innerWidth - 301)\n\t\t\t.tickValues(range(2, max(extent)+1, 7))\n\t\t\t.tickFormat(idxDayToDate)\n\t\t\t.step(1)\n\t\t\t.default(0)\n\t\t\t.on('onchange', renderData);\n\n\t\tlet gStep = select('div#slider-step')\n\t\t\t.append('svg')\n\t\t\t.attr('width', window.innerWidth - 295 + 55)\n\t\t\t.attr('height', 100)\n\t\t\t.append('g')\n\t\t\t.attr('transform', 'translate(40,55)');\n\t\tgStep.call(sliderStep);\n\n\t\tselect('p#value-step').text(sliderStep.value());\n\n\t\t// MAP\n\t\tdeckgl = new deck.DeckGL({\n\t\t\tcontainer,\n\t\t\tmap: mapboxgl,\n\t\t\t//mapboxApiAccessToken: 'pk.eyJ1IjoidWJlcmRhdGEiLCJhIjoiY2pudzRtaWloMDAzcTN2bzN1aXdxZHB5bSJ9.2bkj3IiRC8wj3jLThvDGdA',\n\t\t\tmapboxApiAccessToken: 'pk.eyJ1IjoidWxmYXNsYWsiLCJhIjoiY2p0N2EwdHIwMDFybTQzbXVlbHFzb2xmNyJ9.phPTHkncH8agtBXM9MRrJw',\n\t\t\tmapStyle: 'mapbox://styles/mapbox/light-v9',\n\t\t\tinitialViewState: {\n\t\t\t\tlatitude: 56.35,\n\t\t\t\tlongitude: 10.5,\n\t\t\t\tzoom: 6.8,\n\t\t\t\tmaxZoom: 16,\n\t\t\t\tpitch: 0\n\t\t\t},\n\t\t\tcontroller: true,\n\t\t\tgetTooltip\n\t\t});\n\n\t\trenderData(idxDay);\n\t})\n\n\tfunction renderData(idxDay) {\n\t\tlet filename = './data/' + idxDayToFilename(idxDay, idxTime);\n\t\tjson(filename).then(function(data) {\n\t\t\tlet geojsonLayer = new deck.GeoJsonLayer({\n\t\t\t\tdata,\n\t\t\t\topacity: 0.5,\n\t\t\t\tstroked: false,\n\t\t\t\tfilled: true,\n\t\t\t\textruded: true,\n\t\t\t\twireframe: true,\n\t\t\t\tfp64: true,\n\t\t\t\t\n\t\t\t\tgetElevation: f => f.properties.bl * 2,\n\t\t\t\tgetFillColor: f => cmap(f.properties.gr, colorscheme),\n\t\t\t\tgetLineColor: f => [255, 255, 255],\n\t\t\t\t\n\t\t\t\tpickable: true\n\t\t\t});\n\n\t\t\tdeckgl.setProps({layers: [geojsonLayer]});\n\t\t});\n\t}\n\n\tfunction idxDayToDate(idxDay) {\n\t\tlet i = idxDay * 3;\n\t\treturn idxToDate(i);\n\t}\n\n\tfunction idxDayToFilename(idx, idxTime) {\n\t\tidxDay = idx;\n\t\tlet i = idxDay * 3 + idxTime;\n\t\tlet tmp = idxToFilename(i);\n\t\treturn tmp;\n\t}\n\n\tfunction update0() {\n\t\tif (idxTime != 0) {\n\t\t\tidxTime = 0;\n\t\t\trenderData(idxDay);\n\t\t}\n\t}\n\tfunction update1() {\n\t\tif (idxTime != 1) {\n\t\t\tidxTime = 1;\n\t\t\trenderData(idxDay);\n\t\t}\n\t}\n\tfunction update2() {\n\t\tif (idxTime != 2) {\n\t\t\tidxTime = 2;\n\t\t\trenderData(idxDay);\n\t\t}\n\t}\n\n\tfunction updateColorblind() {\n\t\tlet colorschemes = [\n\t\t\t['red', 'white', 'green'],\n\t\t\t['fc8d62', 'white', '66c2a5'],\n\t\t\t['d95f02', 'white', '1b9e77'],\n\t\t\t['#e74c3c', 'white', '#2980b9'],\n\t\t\t['black', 'white']\n\t\t]\n\t\tcolorschemeidx = (colorschemeidx + 1) % colorschemes.length\n\t\tcolorscheme = colorschemes[colorschemeidx]\n\t\trenderData(idxDay);\n\t}\n</script>\n\n\n<!-- .... -->\n<!-- HTML -->\n<!-- .... -->\n\n<div class=\"time-container bg\">\n\t<label>Date:</label>\n\t<div class=\"slider-container\">\n\t\t<div id=\"slider-step\"></div>\n\t</div>\n\t<label>Time:</label>\n\t<form>\n\t\t<div class=\"flex radio-group\">\n\t\t\t<input on:click={update0} type=\"radio\" id=\"option-one\" name=\"selector\">\n\t\t\t<label for=\"option-one\">02–10</label>\n\t\t\t<input on:click={update1} type=\"radio\" id=\"option-two\" name=\"selector\" checked>\n\t\t\t<label for=\"option-two\">10–18</label>\n\t\t\t<input on:click={update2} type=\"radio\" id=\"option-three\" name=\"selector\">\n\t\t\t<label for=\"option-three\">18–02</label>\n\t\t</div>\n\t</form>\n</div>\n\n<div class=\"map-container\" bind:this={container}>\n\t<div id=\"tooltip\"></div>\n</div>\t\n\n<Infobox/>\n\n<div on:click={updateColorblind} class=\"colorblindicon\">\n\t<img src=\"./colorwheel.png\" width=\"30px\" height=\"30px\" alt=\"Toggle colorschemes (for colorblind)\">\n</div>\n\n\n<!-- ... -->\n<!-- CSS -->\n<!-- ... -->\n\n<style>\n\tinput[type=radio] {\n\t\tposition: absolute;\n\t\tvisibility: hidden;\n\t\tdisplay: none;\n\t}\n\n\tlabel {\n\t\tcolor: #999999;\n\t\tdisplay: inline-block;\n\t\tfont-size: 12px;\n\t\tfont-weight: 500;\n\t\tpadding: 5px;\n\t}\n\n\tinput[type=radio]:checked + label{\n\t\tcolor: #dddddd;\n\t\tbackground: #555555;\n\t\tcursor: pointer;\n\t}\n\n\tlabel + input[type=radio] + label {\n\t\tborder-left: solid 1px #999999;\n\t\tcursor: pointer;\n\t}\n\t.radio-group {\n\t\tborder: solid 1px #999999;\n\t\tdisplay: inline-block;\n\t\tborder-radius: 5px;\n\t\toverflow: hidden;\n\t}\n\t.flex {\n\t\tdisplay: flex;\n\t}\n\t.map-container {\n\t\tposition: absolute;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t}\n\t.bg {\n\t\twidth: 100%;\n\t\tbackground-color: #f9f9f9;\n\t\tborder-bottom-style: solid;\n\t\tborder-bottom-width: 1px;\n\t\tborder-bottom-color: #000000;\n\n\t}\n\t.slider-container {\n\t\tposition: relative;\n\t\twidth: calc(100% - 208px);\n\t\tmin-height: 1px;\n\t\tmargin-right: -20px;\n\t\tmargin-left: -0px;\n\t\tmargin-top: -45px;\n\t\tpadding-bottom: -100px;\n\t}\n\t.time-container {\n\t\tposition: absolute;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\twidth: 100%;\n\t\tz-index: 1;\n\t}\n\t.colorblindicon {\n\t\tcursor: pointer;\n\t\tposition: absolute;\n\t\ttop: 115px;\n\t\tmargin-left: 10px;\n\t\topacity: 0.6;\n\t\tz-index: 1;\n\t}\n</style>",
    "<script>\n\tlet display = false;\n</script>\n\n<div on:click={() => {display = !display}} class=\"infoicon\">\n\t<img src=\"./info.png\" width=\"30px\" height=\"30px\">\n</div>\n\n{#if display}\n\t<div class=\"infobox\">\n\t\t<p><b>How population density has changed across Denmark</b>.<br><br>\n\t\tEach bar represents a geographical region, roughly 1.5 km by 1.5 km in size.\n\t\tThe <b>height</b> of a bar represents its baseline population: the typical number of people inside it during a similar time period in the past.\n\t\tThe <b>color</b> represents the observed change during lockdown, measured as the percentage deviation.\n\t\tOn most days, you will see that cities (where bars are tall) are less populated than usual (thus bars are red).\n\t\tAt the same time, sparsely populated regions near the coast become more populated (green bars).\n\t\t</p>\n\t\t<blockquote>Hold down the <kbd>shift</kbd> (or <kbd>alt</kbd>) key while panning the map to change perspective. Scroll to zoom.</blockquote>\n\t</div> \n{/if}\n\n<style>\n\tp {\n\t\tmargin: 15px;\n\t\ttext-align: justify;\n\t\tfont-family: sans-serif;\n\t\thyphens: auto;\n\t}\n\timg {\n\t\tcursor: pointer;\n\t}\n\t.infoicon {\n\t\tmargin-top: 70px;\n\t\tmargin-left: 10px;\n\t\topacity: 0.5;\n\t\tz-index: 1;\n\t}\n\t.infobox {\n\t\tposition: relative;\n\t\twidth: 250px;\n\t\tmargin-top: -33px;\n\t\tmargin-left: 45px;\n\t\tbackground-color: white;\n\t\topacity: 0.8;\n\t\tborder-style: solid;\n\t\tborder-width: 2px;\n\t\tborder-radius: 3px;\n\t\tborder-color: #999999;\n\t\tz-index: 2;\n\t}\n</style>"
  ],
  "names": [],
  "mappings": "AAgLC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,IAAI,AACd,CAAC,AAED,KAAK,eAAC,CAAC,AACN,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,YAAY,CACrB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,OAAO,CAAE,GAAG,AACb,CAAC,AAED,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAG,oBAAK,CAAC,AACjC,KAAK,CAAE,OAAO,CACd,UAAU,CAAE,OAAO,CACnB,MAAM,CAAE,OAAO,AAChB,CAAC,AAED,KAAK,CAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAG,KAAK,eAAC,CAAC,AAClC,WAAW,CAAE,KAAK,CAAC,GAAG,CAAC,OAAO,CAC9B,MAAM,CAAE,OAAO,AAChB,CAAC,AACD,YAAY,eAAC,CAAC,AACb,MAAM,CAAE,KAAK,CAAC,GAAG,CAAC,OAAO,CACzB,OAAO,CAAE,YAAY,CACrB,aAAa,CAAE,GAAG,CAClB,QAAQ,CAAE,MAAM,AACjB,CAAC,AACD,KAAK,eAAC,CAAC,AACN,OAAO,CAAE,IAAI,AACd,CAAC,AACD,cAAc,eAAC,CAAC,AACf,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,AACd,CAAC,AACD,GAAG,eAAC,CAAC,AACJ,KAAK,CAAE,IAAI,CACX,gBAAgB,CAAE,OAAO,CACzB,mBAAmB,CAAE,KAAK,CAC1B,mBAAmB,CAAE,GAAG,CACxB,mBAAmB,CAAE,OAAO,AAE7B,CAAC,AACD,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,KAAK,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CACzB,UAAU,CAAE,GAAG,CACf,YAAY,CAAE,KAAK,CACnB,WAAW,CAAE,IAAI,CACjB,UAAU,CAAE,KAAK,CACjB,cAAc,CAAE,MAAM,AACvB,CAAC,AACD,eAAe,eAAC,CAAC,AAChB,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,CAAC,AACX,CAAC,AACD,eAAe,eAAC,CAAC,AAChB,MAAM,CAAE,OAAO,CACf,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,KAAK,CACV,WAAW,CAAE,IAAI,CACjB,OAAO,CAAE,GAAG,CACZ,OAAO,CAAE,CAAC,AACX,CAAC;AC/ND,CAAC,cAAC,CAAC,AACF,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,OAAO,CACnB,WAAW,CAAE,UAAU,CACvB,OAAO,CAAE,IAAI,AACd,CAAC,AACD,GAAG,cAAC,CAAC,AACJ,MAAM,CAAE,OAAO,AAChB,CAAC,AACD,SAAS,cAAC,CAAC,AACV,UAAU,CAAE,IAAI,CAChB,WAAW,CAAE,IAAI,CACjB,OAAO,CAAE,GAAG,CACZ,OAAO,CAAE,CAAC,AACX,CAAC,AACD,QAAQ,cAAC,CAAC,AACT,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,KAAK,CACjB,WAAW,CAAE,IAAI,CACjB,gBAAgB,CAAE,KAAK,CACvB,OAAO,CAAE,GAAG,CACZ,YAAY,CAAE,KAAK,CACnB,YAAY,CAAE,GAAG,CACjB,aAAa,CAAE,GAAG,CAClB,YAAY,CAAE,OAAO,CACrB,OAAO,CAAE,CAAC,AACX,CAAC"
}